{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../context/user\";\nimport '../css/AddEvent.css';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddEvent() {\n  _s();\n  const [drafts, setDrafts] = useState([]);\n  useEffect(() => {\n    fetch('/drafts').then(res => res.json()).then(data => setDrafts(data));\n  }, []);\n  console.log(drafts);\n  const {\n    user\n  } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    title: '',\n    image: '',\n    category: '',\n    description: '',\n    hosted_by: '',\n    featuring: '',\n    dress_code: '',\n    location: '',\n    date: '',\n    time: '',\n    tickets: '',\n    price: ''\n  });\n  const handleChange = e => {\n    setFormData(prevState => ({\n      ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleAddDrafts = newDraft => {\n    const updatedDraft = [...drafts, newDraft];\n    setDrafts(updatedDraft);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"/drafts\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...formData,\n        organizer_id: user === null || user === void 0 ? void 0 : user.id\n      })\n    }).then(res => res.json()).then(data => handleAddDrafts(data));\n    // setFormData({\n    //     title: '',\n    //     image: '',\n    //     category: '',\n    //     description: '',\n    //     hosted_by: '',\n    //     featuring: '',\n    //     dress_code: '',\n    //     location: '',\n    //     date: '',\n    //     time: '',\n    //     tickets: '',\n    //     price: '',\n    //   });\n    // else{\n    //     // imput error message here\n    // }\n    // })\n    // .catch((error) =>{\n    //     console.log(error);\n\n    // });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(AddEvent, \"s49yYYCTRD9vz6hVpWqqWpB3HZY=\");\n_c = AddEvent;\nexport default AddEvent;\nvar _c;\n$RefreshReg$(_c, \"AddEvent\");","map":{"version":3,"names":["React","useEffect","useState","useContext","UserContext","Fragment","_Fragment","jsxDEV","_jsxDEV","AddEvent","_s","drafts","setDrafts","fetch","then","res","json","data","console","log","user","formData","setFormData","title","image","category","description","hosted_by","featuring","dress_code","location","date","time","tickets","price","handleChange","e","prevState","target","name","value","handleAddDrafts","newDraft","updatedDraft","handleSubmit","preventDefault","method","headers","body","JSON","stringify","organizer_id","id","_c","$RefreshReg$"],"sources":["/home/ricky/Development/Phase 5/ticketitamasha/client/src/components/AddEvent.js"],"sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../context/user\";\nimport '../css/AddEvent.css';\n\n\nfunction AddEvent(){\n       \n       const [drafts, setDrafts] = useState([])\n\n       useEffect(() => {\n           fetch('/drafts')\n             .then((res) => res.json())\n             .then((data) => setDrafts(data))\n         }, [])\n   \n         console.log(drafts);\n   \n    const { user } = useContext(UserContext)\n    const [formData, setFormData] = useState({\n        title: '',\n        image: '',\n        category: '',\n        description: '',\n        hosted_by: '',\n        featuring: '',\n        dress_code: '',\n        location: '',\n        date: '',\n        time: '',\n        tickets: '',\n        price: '',\n      });\n\n      \n    const handleChange = (e) => {\n        setFormData((prevState) => ({\n          ...prevState,\n          [e.target.name]: e.target.value,\n        }));\n      };\n\n      const handleAddDrafts = (newDraft) =>{\n        const updatedDraft = [...drafts, newDraft]\n        setDrafts(updatedDraft)  \n      }\n\n    const handleSubmit = (e) =>{\n        e.preventDefault();\n              \n        fetch(\"/drafts\",{\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({...formData, organizer_id: user?.id})\n        })   \n        .then((res) => res.json())  \n        .then((data) => handleAddDrafts(data))   \n        // setFormData({\n        //     title: '',\n        //     image: '',\n        //     category: '',\n        //     description: '',\n        //     hosted_by: '',\n        //     featuring: '',\n        //     dress_code: '',\n        //     location: '',\n        //     date: '',\n        //     time: '',\n        //     tickets: '',\n        //     price: '',\n        //   });\n            // else{\n            //     // imput error message here\n            // }\n        // })\n        // .catch((error) =>{\n        //     console.log(error);\n\n        // });\n    };\n\n    \n    return(\n        <></>\n    )\n}\nexport default AddEvent;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACjD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,OAAO,qBAAqB;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAG7B,SAASC,QAAQA,CAAA,EAAE;EAAAC,EAAA;EAEZ,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZY,KAAK,CAAC,SAAS,CAAC,CACbC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAKL,SAAS,CAACK,IAAI,CAAC,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;EAENC,OAAO,CAACC,GAAG,CAACR,MAAM,CAAC;EAExB,MAAM;IAAES;EAAK,CAAC,GAAGjB,UAAU,CAACC,WAAW,CAAC;EACxC,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC;IACrCqB,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,EAAE;IACbC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE;EACT,CAAC,CAAC;EAGJ,MAAMC,YAAY,GAAIC,CAAC,IAAK;IACxBd,WAAW,CAAEe,SAAS,KAAM;MAC1B,GAAGA,SAAS;MACZ,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAGH,CAAC,CAACE,MAAM,CAACE;IAC5B,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMC,eAAe,GAAIC,QAAQ,IAAI;IACnC,MAAMC,YAAY,GAAG,CAAC,GAAGhC,MAAM,EAAE+B,QAAQ,CAAC;IAC1C9B,SAAS,CAAC+B,YAAY,CAAC;EACzB,CAAC;EAEH,MAAMC,YAAY,GAAIR,CAAC,IAAI;IACvBA,CAAC,CAACS,cAAc,EAAE;IAElBhC,KAAK,CAAC,SAAS,EAAC;MACZiC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAC,GAAG7B,QAAQ;QAAE8B,YAAY,EAAE/B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgC;MAAE,CAAC;IAC9D,CAAC,CAAC,CACDtC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAKwB,eAAe,CAACxB,IAAI,CAAC,CAAC;IACtC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACI;IACA;IACA;IACJ;IACA;IACA;;IAEA;EACJ,CAAC;;EAGD,oBACIT,OAAA,CAAAF,SAAA,oBAAK;AAEb;AAACI,EAAA,CAjFQD,QAAQ;AAAA4C,EAAA,GAAR5C,QAAQ;AAkFjB,eAAeA,QAAQ;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}